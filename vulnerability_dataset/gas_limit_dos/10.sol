// SPDX-License-Identifier: MIT
pragma solidity ^0.4.24;

contract GasLimitDoS {
    address public owner;
    uint256[] public numbers;

    constructor() public {
        owner = msg.sender;
    }

    // 存款
    function deposit() public payable {
        numbers.push(msg.value);
    }

    // 长时间执行的操作
    function complexTransfer(address recipient, uint256 amount) public {
        require(msg.sender == owner, "Only owner can transfer");

        // 消耗大量 Gas 的复杂操作
        for (uint256 i = 0; i < numbers.length; i++) {
            numbers[i] = numbers[i] * 2;  // 对每个数字进行复杂计算
        }

        // 执行转账
        recipient.transfer(amount);
    }
}
